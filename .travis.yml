language: node_js
node_js:
   - "4"
   - "6"
   - "7"
os:
  - linux
  
sudo: false

services:
  - mysql
  - mongodb
  - redis-server
  
before_install:
  - mysql -e "create database IF NOT EXISTS test;" -uroot
  - echo "USE mysql;\nUPDATE user SET password=PASSWORD('Password12!') WHERE user='root';\nFLUSH PRIVILEGES;\n" | mysql -u root

env:
  - CXX=g++-4.8
  
script:
  - ./bin/run-test.sh -c

addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
